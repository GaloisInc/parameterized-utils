name: Build and test
on:
  - push
  - pull_request
jobs:
  test:
    name: Testing ${{ matrix.os }} GHC-${{ matrix.ghc }}
    strategy:
      matrix:
        os: [ubuntu-24.04]
        # See doc/dev.md for GHC version support policy
        ghc: [9.12.2]
      fail-fast: false
    uses: GaloisInc/.github/.github/workflows/haskell-ci.yml@8fbbfb79ac12e603d71b4f29889a453f12150685
    with:
      cache-key-prefix: TODO
      # See doc/dev.md for development practices around warnings.
      #
      # See Note [Parallelism] in `haskell-ci.yml` for why `--ghc-options='-j'`
      # and `--semaphore`.
      configure-flags: --enable-coverage --enable-tests --ghc-options='-Werror=compat -Werror=default -j' --semaphore
      ghc: ${{ matrix.ghc }}
      os: ${{ matrix.os }}
